{
  "variables": {
    "ssh_user":           "ubuntu"
  },
  "builders": [
    {
      "name":              "TLJH",
      "type":              "openstack",
      "communicator":      "ssh",
      "ssh_username":      "{{user `ssh_user`}}",
      "source_image_name": "NeCTAR Ubuntu 18.04 LTS (Bionic) amd64",
      "image_name":        "TheLittlestJupyterHub_v2",
      "instance_name":     "tljh_build",
      "flavor":            "m3.small",
      "security_groups":  ["default","SSH"]
    }
  ],
  "provisioners": [
    {
      "type": "ansible",
      "playbook_file": "build.yml",
      "user": "{{user `ssh_user`}}",
      "only": ["TLJH"],
      "host_alias": "tljh_build"
    }
  ]
}
